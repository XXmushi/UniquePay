{"version":3,"sources":["webpack:///unique-pay.min.js","webpack:///webpack/bootstrap 70f429c4feb7dfb2d12a","webpack:///./src/UniquePay.js","webpack:///./src/UniquePay.sdk.js","webpack:///./src/index.js","webpack:///./~/process/browser.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","_typeof","Symbol","iterator","obj","constructor","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","_$UniquePay","this","$globalConfig","navigator","window","isWechat","userAgent","match","isAlipay","options","wechatPay","aliPay","Promise","resolve","reject","toString","message","JSON","stringify","_onBridgeReady","then","WeixinJSBridge","invoke","res","err_msg","code","split","errMsg","err_desc","AlipayJSBridge","result","resultCode","document","addEventListener","attachEvent","UniquePay","process","init","loadJS","path","console","error","a","createElement","src","location","protocol","onload","log","onerror","getElementsByTagName","parentNode","insertBefore","signatureConfig","_this","_wixinPay","success","cancel","fail","wx","chooseWXPay","signature","debug","NODE_ENV","jsApiList","config","ready","ap","tradePay","install","Vue","arguments","undefined","installed","$uniquePay","useSdk","use","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","setTimeout","e","runClearTimeout","marker","cachedClearTimeout","clearTimeout","cleanUpNextTick","draining","currentQueue","queue","concat","queueIndex","drainQueue","timeout","len","run","Item","array","noop","nextTick","args","Array","push","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask"],"mappings":"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","file":"unique-pay.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\r\n * 支付聚合\r\n * @Author: liangzc \r\n * @Date: 2018-01-12\r\n * @Last Modified by: liangzc\r\n * @Last Modified time: 2018-02-13 17:42:42\r\n */\nvar _$UniquePay = function () {\n  function _$UniquePay() {\n    _classCallCheck(this, _$UniquePay);\n\n    if (typeof $globalConfig === 'undefined' || !$globalConfig.navigator) {\n      window.$globalConfig = {\n        navigator: {\n          isWechat: navigator.userAgent.match(/(MicroMessenger)\\/([\\d\\.]+)/i) !== null,\n          isAlipay: navigator.userAgent.match(/(AlipayClient)\\/([\\d\\.]+)/i) !== null\n        }\n      };\n    }\n  }\n\n  /**\r\n   * 唤起支付\r\n   * @param {Object} options 支付参数，参考各支付平台支付文档\r\n   *\r\n   * @returns {Promise}\r\n   */\n\n\n  _createClass(_$UniquePay, [{\n    key: 'pay',\n    value: function pay(options) {\n      return $globalConfig.navigator.isWechat ? this.wechatPay(options) : $globalConfig.navigator.isAlipay ? this.aliPay(options) : new Promise(function () {});\n    }\n\n    /**\r\n     * 调起微信支付\r\n     * @param {Object} options 支付参数，参考微信官方支付文档\r\n     * @example\r\n     * timestamp 支付签名时间戳，注意微信jssdk中的所有使用timestamp字段均为小写。但最新版的支付后台生成签名使用的timeStamp字段名需大写其中的S字符\r\n     * nonceStr 支付签名随机串，不长于 32 位\r\n     * package 统一支付接口返回的prepay_id参数值，提交格式如：prepay_id=\\*\\*\\*）\r\n     * signType 签名方式，默认为'SHA1'，使用新版支付需传入'MD5'\r\n     * paySi gn 支付签名\r\n     *\r\n     * @returns {Promise}\r\n     */\n\n  }, {\n    key: 'wechatPay',\n    value: function wechatPay(options) {\n      return new Promise(function (resolve, reject) {\n        if (!options || Object.prototype.toString.call(options) !== '[object Object]') {\n          reject({\n            message: '唤起微信支付参数错误，参数[options]：' + JSON.stringify(options)\n          });\n          return;\n        }\n        _onBridgeReady().then(function () {\n          WeixinJSBridge.invoke('getBrandWCPayRequest', options, function (res) {\n            if (res.err_msg === 'get_brand_wcpay_request:ok') {\n              //支付成功\n              resolve({\n                code: (res.err_msg || '').split(':')[1] || 'ok',\n                message: res.errMsg || res.err_desc || ''\n              });\n            } else {\n              reject({\n                code: (res.err_msg || '').split(':')[1] || 'fail',\n                message: res.errMsg || res.err_desc || '支付失败'\n              });\n            }\n          });\n        });\n      });\n    }\n\n    /**\r\n     * 调起支付宝支付\r\n     * @param {Object} options 支付参数（tradeNO/orderStr），参考支付宝官方支付文档\r\n     * @example\r\n     * tradeNO 交易号\r\n     * orderStr 交易字符串\r\n     *\r\n     * @returns {Promise}\r\n     */\n\n  }, {\n    key: 'aliPay',\n    value: function aliPay(options) {\n      return new Promise(function (resolve, reject) {\n        if (!options || Object.prototype.toString.call(options) !== '[object Object]') {\n          reject({\n            message: '唤起支付宝参数错误，参数[options]：' + JSON.stringify(options)\n          });\n          return;\n        }\n        _onBridgeReady().then(function () {\n          AlipayJSBridge.call('tradePay', options, function (result) {\n            result.code = result.resultCode;\n            switch (result.resultCode) {\n              case '9000':\n                //支付成功\n                resolve(result);\n                break;\n              case '8000': //后台获取支付结果超时，暂时未拿到支付结果\n              case '6004':\n                //支付过程中网络出错， 暂时未拿到支付结果\n                result.message = '支付处理中，请稍后在您的订单中查看';\n                reject(result);\n                break;\n              case '6001': //用户中途取消\n              case '99':\n                //用户点击忘记密码快捷界面退出(only iOS since 9.5)\n                break;\n              default:\n                result.message = '支付异常,请关闭页面后重试';\n                reject(result);\n                break;\n            }\n          });\n        });\n      });\n    }\n  }]);\n\n  return _$UniquePay;\n}();\n\n/**\r\n * 桥接过渡函数\r\n *\r\n * @returns {Promise}\r\n */\n\n\nvar _onBridgeReady = function _onBridgeReady() {\n  return new Promise(function (resolve, reject) {\n    if ($globalConfig.navigator.isWechat) {\n      if (typeof WeixinJSBridge === 'undefined') {\n        if (document.addEventListener) {\n          document.addEventListener('WeixinJSBridgeReady', resolve, false);\n        } else if (document.attachEvent) {\n          document.attachEvent('WeixinJSBridgeReady', resolve);\n          document.attachEvent('onWeixinJSBridgeReady', resolve);\n        }\n      } else {\n        resolve();\n      }\n    } else if ($globalConfig.navigator.isAlipay) {\n      if (window.AlipayJSBridge) {\n        resolve();\n      } else {\n        document.addEventListener('AlipayJSBridgeReady', resolve, false);\n      }\n    }\n  });\n};\n\n( false ? 'undefined' : _typeof(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = new _$UniquePay() : window.UniquePay = new _$UniquePay();\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(process) {var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\r\n * 支付聚合\r\n * @Author: liangzc \r\n * @Date: 2018-01-12\r\n * @Last Modified by: liangzc\r\n * @Last Modified time: 2018-02-24 15:57:26\r\n */\nvar _$UniquePay = function () {\n  function _$UniquePay() {\n    _classCallCheck(this, _$UniquePay);\n\n    if (typeof $globalConfig === 'undefined' || !$globalConfig.navigator) {\n      window.$globalConfig = {\n        navigator: {\n          isWechat: navigator.userAgent.match(/(MicroMessenger)\\/([\\d\\.]+)/i) !== null,\n          isAlipay: navigator.userAgent.match(/(AlipayClient)\\/([\\d\\.]+)/i) !== null\n        }\n      };\n    }\n    this.init();\n  }\n\n  /**\r\n   * 初始化\r\n   */\n\n\n  _createClass(_$UniquePay, [{\n    key: 'init',\n    value: function init() {\n      if ($globalConfig.navigator.isWechat || $globalConfig.navigator.isAlipay) {\n        this.loadJS($globalConfig.navigator.isWechat ? '//res.wx.qq.com/open/js/jweixin-1.2.0.js' : '//a.alipayobjects.com/g/component/antbridge/1.1.4/antbridge.min.js');\n      }\n    }\n\n    /**\r\n     * 加载 js 文件\r\n     * @param {String} path js相对路径\r\n     */\n\n  }, {\n    key: 'loadJS',\n    value: function loadJS(path) {\n      if (!path || path === '') {\n        console.error('UniquePay init fail , path : null');\n        return;\n      }\n      var a = document.createElement('script');\n      a.src = location.protocol + path;\n      a.onload = function () {\n        console.log('UniquePay init success !!! ');\n      };\n      a.onerror = function () {\n        console.error('UniquePay init fail , path : ', path);\n      };\n      var c = document.getElementsByTagName('script')[0];\n      c.parentNode.insertBefore(a, c);\n    }\n\n    /**\r\n     * 唤起支付\r\n     * @param {Object} options 支付参数，参考各支付平台\r\n     * @param {Object} signatureConfig 仅限微信 jssdk，签名配置信息，参考微信官方 jssdk 文档\r\n     *\r\n     * @returns {Promise}\r\n     */\n\n  }, {\n    key: 'pay',\n    value: function pay(options, signatureConfig) {\n      return $globalConfig.navigator.isWechat ? this.wechatPay(options, signatureConfig) : $globalConfig.navigator.isAlipay ? this.aliPay(options) : new Promise(function () {});\n    }\n\n    /**\r\n     * 调起微信支付\r\n     * @param {Object} options 微信支付参数，参考微信官方支付文档\r\n     * @example\r\n     * timestamp 支付签名时间戳，注意微信jssdk中的所有使用timestamp字段均为小写。但最新版的支付后台生成签名使用的timeStamp字段名需大写其中的S字符\r\n     * nonceStr 支付签名随机串，不长于 32 位\r\n     * package 统一支付接口返回的prepay_id参数值，提交格式如：prepay_id=\\*\\*\\*）\r\n     * signType 签名方式，默认为'SHA1'，使用新版支付需传入'MD5'\r\n     * paySi gn 支付签名\r\n     *\r\n     * @param {Object} signatureConfig 签名配置信息，参考微信官方 jssdk 文档\r\n     *\r\n     * @returns {Promise}\r\n     */\n\n  }, {\n    key: 'wechatPay',\n    value: function wechatPay(options, signatureConfig) {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        if (!options || Object.prototype.toString.call(options) !== '[object Object]') {\n          reject({\n            message: '唤起微信支付参数错误，参数[options]：' + JSON.stringify(options)\n          });\n          return;\n        }\n        //唤起支付\n        var _wixinPay = function _wixinPay() {\n          options.success = function (res) {\n            resolve({\n              code: (res.err_msg || '').split(':')[1] || 'ok',\n              message: res.errMsg || res.err_desc || ''\n            });\n          };\n          options.cancel = function (res) {\n            reject({\n              code: (res.err_msg || '').split(':')[1] || 'cancel',\n              message: res.errMsg || res.err_desc || '支付取消'\n            });\n          };\n          options.fail = function (res) {\n            reject({\n              code: (res.err_msg || '').split(':')[1] || 'fail',\n              message: res.errMsg || res.err_desc || '支付失败'\n            });\n          };\n          wx.chooseWXPay(options);\n        };\n\n        if (_this.signature !== true && signatureConfig) {\n          //未注入签名数据\n          signatureConfig.debug = signatureConfig.debug || (typeof process !== 'undefined' ? (__webpack_require__.i({\"NODE_ENV\":\"production\"}) || {}).NODE_ENV !== 'production' : false);\n          signatureConfig.jsApiList = ['checkJsApi', 'chooseWXPay'];\n          wx.config(signatureConfig);\n          wx.ready(function () {\n            _this.signature = true;\n            // config信息验证后会执行ready方法，所有接口调用都必须在config接口获得结果之后，config是一个客户端的异步操作，所以如果需要在页面加载时就调用相关接口，则须把相关接口放在ready函数中调用来确保正确执行。对于用户触发时才调用的接口，则可以直接调用，不需要放在ready函数中。\n            _wixinPay();\n          });\n          wx.error(function (res) {\n            _this.signature = false;\n            reject({\n              code: 'fail',\n              message: res.errMsg || res.err_desc || 'jsapi配置失败'\n            });\n          });\n        } else {\n          _wixinPay();\n        }\n      });\n    }\n\n    /**\r\n     * 调起支付宝支付\r\n     * @param {Object} options 支付参数（tradeNO/orderStr），参考支付宝官方支付文档\r\n     * @example\r\n     * tradeNO 交易号\r\n     * orderStr 交易字符串\r\n     *\r\n     * @returns {Promise}\r\n     */\n\n  }, {\n    key: 'aliPay',\n    value: function aliPay(options) {\n      return new Promise(function (resolve, reject) {\n        if (!options || Object.prototype.toString.call(options) !== '[object Object]') {\n          reject({\n            message: '唤起支付宝参数错误，参数[options]：' + JSON.stringify(options)\n          });\n          return;\n        }\n        ap.tradePay(options, function (result) {\n          result.code = result.resultCode;\n          switch (result.resultCode) {\n            case '9000':\n              //支付成功\n              resolve(result);\n              break;\n            case '8000': //后台获取支付结果超时，暂时未拿到支付结果\n            case '6004':\n              //支付过程中网络出错， 暂时未拿到支付结果\n              result.message = '支付处理中，请稍后在您的订单中查看';\n              reject(result);\n              break;\n            case '6001': //用户中途取消\n            case '99':\n              //用户点击忘记密码快捷界面退出(only iOS since 9.5)\n              break;\n            default:\n              result.message = '支付异常,请关闭页面后重试';\n              reject(result);\n              break;\n          }\n        });\n      });\n    }\n  }]);\n\n  return _$UniquePay;\n}();\n\n( false ? 'undefined' : _typeof(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = new _$UniquePay() : window.UniquePay = new _$UniquePay();\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)))\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*\r\n * @Author: liangzc \r\n * @Date: 2018-02-09 \r\n * @Last Modified by: liangzc\r\n * @Last Modified time: 2018-02-13 15:35:15\r\n */\n/**\r\n * @param {Vue} Vue Vue对象\r\n * @param {Object} options {useSdk: Boolean} 是否使用对应平台的 jssdk\r\n */\nvar install = function install(Vue) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (install.installed) return;\n  Vue.$uniquePay = Vue.prototype.$uniquePay = __webpack_require__(options.useSdk ? 1 : 0); //添加vm实例验证属性\n};\nif (typeof window !== 'undefined' && window.Vue) {\n  window.Vue.use(install);\n}\nmodule.exports = install;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// unique-pay.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 70f429c4feb7dfb2d12a","/*\r\n * 支付聚合\r\n * @Author: liangzc \r\n * @Date: 2018-01-12\r\n * @Last Modified by: liangzc\r\n * @Last Modified time: 2018-02-13 17:42:42\r\n */\r\nclass _$UniquePay {\r\n  constructor() {\r\n    if (typeof $globalConfig === 'undefined' || !$globalConfig.navigator) {\r\n      window.$globalConfig = {\r\n        navigator: {\r\n          isWechat:\r\n            navigator.userAgent.match(/(MicroMessenger)\\/([\\d\\.]+)/i) !== null,\r\n          isAlipay:\r\n            navigator.userAgent.match(/(AlipayClient)\\/([\\d\\.]+)/i) !== null\r\n        }\r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 唤起支付\r\n   * @param {Object} options 支付参数，参考各支付平台支付文档\r\n   *\r\n   * @returns {Promise}\r\n   */\r\n  pay(options) {\r\n    return $globalConfig.navigator.isWechat ?\r\n      this.wechatPay(options) :\r\n      $globalConfig.navigator.isAlipay ?\r\n        this.aliPay(options) :\r\n        new Promise(() => {});\r\n  }\r\n\r\n  /**\r\n   * 调起微信支付\r\n   * @param {Object} options 支付参数，参考微信官方支付文档\r\n   * @example\r\n   * timestamp 支付签名时间戳，注意微信jssdk中的所有使用timestamp字段均为小写。但最新版的支付后台生成签名使用的timeStamp字段名需大写其中的S字符\r\n   * nonceStr 支付签名随机串，不长于 32 位\r\n   * package 统一支付接口返回的prepay_id参数值，提交格式如：prepay_id=\\*\\*\\*）\r\n   * signType 签名方式，默认为'SHA1'，使用新版支付需传入'MD5'\r\n   * paySi gn 支付签名\r\n   *\r\n   * @returns {Promise}\r\n   */\r\n  wechatPay(options) {\r\n    return new Promise((resolve, reject) => {\r\n      if (\r\n        !options ||\r\n        Object.prototype.toString.call(options) !== '[object Object]'\r\n      ) {\r\n        reject({\r\n          message:\r\n            '唤起微信支付参数错误，参数[options]：' + JSON.stringify(options)\r\n        });\r\n        return;\r\n      }\r\n      _onBridgeReady().then(() => {\r\n        WeixinJSBridge.invoke('getBrandWCPayRequest', options, res => {\r\n          if (res.err_msg === 'get_brand_wcpay_request:ok') {\r\n            //支付成功\r\n            resolve({\r\n              code: (res.err_msg || '').split(':')[1] || 'ok',\r\n              message: res.errMsg || res.err_desc || ''\r\n            });\r\n          } else {\r\n            reject({\r\n              code: (res.err_msg || '').split(':')[1] || 'fail',\r\n              message: res.errMsg || res.err_desc || '支付失败'\r\n            });\r\n          }\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 调起支付宝支付\r\n   * @param {Object} options 支付参数（tradeNO/orderStr），参考支付宝官方支付文档\r\n   * @example\r\n   * tradeNO 交易号\r\n   * orderStr 交易字符串\r\n   *\r\n   * @returns {Promise}\r\n   */\r\n  aliPay(options) {\r\n    return new Promise((resolve, reject) => {\r\n      if (\r\n        !options ||\r\n        Object.prototype.toString.call(options) !== '[object Object]'\r\n      ) {\r\n        reject({\r\n          message:\r\n            '唤起支付宝参数错误，参数[options]：' + JSON.stringify(options)\r\n        });\r\n        return;\r\n      }\r\n      _onBridgeReady().then(() => {\r\n        AlipayJSBridge.call('tradePay', options, result => {\r\n          result.code = result.resultCode;\r\n          switch (result.resultCode) {\r\n            case '9000': //支付成功\r\n              resolve(result);\r\n              break;\r\n            case '8000': //后台获取支付结果超时，暂时未拿到支付结果\r\n            case '6004': //支付过程中网络出错， 暂时未拿到支付结果\r\n              result.message = '支付处理中，请稍后在您的订单中查看';\r\n              reject(result);\r\n              break;\r\n            case '6001': //用户中途取消\r\n            case '99': //用户点击忘记密码快捷界面退出(only iOS since 9.5)\r\n              break;\r\n            default:\r\n              result.message = '支付异常,请关闭页面后重试';\r\n              reject(result);\r\n              break;\r\n          }\r\n        });\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\n/**\r\n * 桥接过渡函数\r\n *\r\n * @returns {Promise}\r\n */\r\nlet _onBridgeReady = () => {\r\n  return new Promise((resolve, reject) => {\r\n    if ($globalConfig.navigator.isWechat) {\r\n      if (typeof WeixinJSBridge === 'undefined') {\r\n        if (document.addEventListener) {\r\n          document.addEventListener('WeixinJSBridgeReady', resolve, false);\r\n        } else if (document.attachEvent) {\r\n          document.attachEvent('WeixinJSBridgeReady', resolve);\r\n          document.attachEvent('onWeixinJSBridgeReady', resolve);\r\n        }\r\n      } else {\r\n        resolve();\r\n      }\r\n    } else if ($globalConfig.navigator.isAlipay) {\r\n      if (window.AlipayJSBridge) {\r\n        resolve();\r\n      } else {\r\n        document.addEventListener('AlipayJSBridgeReady', resolve, false);\r\n      }\r\n    }\r\n  });\r\n};\r\n\r\ntypeof exports === 'object' && typeof module !== 'undefined' ?\r\n  module.exports = new _$UniquePay() :\r\n  window.UniquePay = new _$UniquePay();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/UniquePay.js","/*\r\n * 支付聚合\r\n * @Author: liangzc \r\n * @Date: 2018-01-12\r\n * @Last Modified by: liangzc\r\n * @Last Modified time: 2018-02-24 15:57:26\r\n */\r\nclass _$UniquePay {\r\n  constructor() {\r\n    if (typeof $globalConfig === 'undefined' || !$globalConfig.navigator) {\r\n      window.$globalConfig = {\r\n        navigator: {\r\n          isWechat:\r\n            navigator.userAgent.match(/(MicroMessenger)\\/([\\d\\.]+)/i) !== null,\r\n          isAlipay:\r\n            navigator.userAgent.match(/(AlipayClient)\\/([\\d\\.]+)/i) !== null\r\n        }\r\n      };\r\n    }\r\n    this.init();\r\n  }\r\n\r\n  /**\r\n   * 初始化\r\n   */\r\n  init() {\r\n    if ($globalConfig.navigator.isWechat || $globalConfig.navigator.isAlipay) {\r\n      this.loadJS(\r\n        $globalConfig.navigator.isWechat ?\r\n          '//res.wx.qq.com/open/js/jweixin-1.2.0.js' :\r\n          '//a.alipayobjects.com/g/component/antbridge/1.1.4/antbridge.min.js'\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 加载 js 文件\r\n   * @param {String} path js相对路径\r\n   */\r\n  loadJS(path) {\r\n    if (!path || path === '') {\r\n      console.error('UniquePay init fail , path : null');\r\n      return;\r\n    }\r\n    let a = document.createElement('script');\r\n    a.src = location.protocol + path;\r\n    a.onload = () => {\r\n      console.log('UniquePay init success !!! ');\r\n    };\r\n    a.onerror = () => {\r\n      console.error('UniquePay init fail , path : ', path);\r\n    };\r\n    let c = document.getElementsByTagName('script')[0];\r\n    c.parentNode.insertBefore(a, c);\r\n  }\r\n\r\n  /**\r\n   * 唤起支付\r\n   * @param {Object} options 支付参数，参考各支付平台\r\n   * @param {Object} signatureConfig 仅限微信 jssdk，签名配置信息，参考微信官方 jssdk 文档\r\n   *\r\n   * @returns {Promise}\r\n   */\r\n  pay(options, signatureConfig) {\r\n    return $globalConfig.navigator.isWechat ?\r\n      this.wechatPay(options, signatureConfig) :\r\n      $globalConfig.navigator.isAlipay ?\r\n        this.aliPay(options) :\r\n        new Promise(() => {});\r\n  }\r\n\r\n  /**\r\n   * 调起微信支付\r\n   * @param {Object} options 微信支付参数，参考微信官方支付文档\r\n   * @example\r\n   * timestamp 支付签名时间戳，注意微信jssdk中的所有使用timestamp字段均为小写。但最新版的支付后台生成签名使用的timeStamp字段名需大写其中的S字符\r\n   * nonceStr 支付签名随机串，不长于 32 位\r\n   * package 统一支付接口返回的prepay_id参数值，提交格式如：prepay_id=\\*\\*\\*）\r\n   * signType 签名方式，默认为'SHA1'，使用新版支付需传入'MD5'\r\n   * paySi gn 支付签名\r\n   *\r\n   * @param {Object} signatureConfig 签名配置信息，参考微信官方 jssdk 文档\r\n   *\r\n   * @returns {Promise}\r\n   */\r\n  wechatPay(options, signatureConfig) {\r\n    return new Promise((resolve, reject) => {\r\n      if (\r\n        !options ||\r\n        Object.prototype.toString.call(options) !== '[object Object]'\r\n      ) {\r\n        reject({\r\n          message:\r\n            '唤起微信支付参数错误，参数[options]：' + JSON.stringify(options)\r\n        });\r\n        return;\r\n      }\r\n      //唤起支付\r\n      let _wixinPay = () => {\r\n        options.success = res => {\r\n          resolve({\r\n            code: (res.err_msg || '').split(':')[1] || 'ok',\r\n            message: res.errMsg || res.err_desc || ''\r\n          });\r\n        };\r\n        options.cancel = res => {\r\n          reject({\r\n            code: (res.err_msg || '').split(':')[1] || 'cancel',\r\n            message: res.errMsg || res.err_desc || '支付取消'\r\n          });\r\n        };\r\n        options.fail = res => {\r\n          reject({\r\n            code: (res.err_msg || '').split(':')[1] || 'fail',\r\n            message: res.errMsg || res.err_desc || '支付失败'\r\n          });\r\n        };\r\n        wx.chooseWXPay(options);\r\n      };\r\n\r\n      if (this.signature !== true && signatureConfig) {\r\n        //未注入签名数据\r\n        signatureConfig.debug =\r\n          signatureConfig.debug ||\r\n          (typeof process !== 'undefined' ?\r\n            (process.env || {}).NODE_ENV !== 'production' :\r\n            false);\r\n        signatureConfig.jsApiList = ['checkJsApi', 'chooseWXPay'];\r\n        wx.config(signatureConfig);\r\n        wx.ready(() => {\r\n          this.signature = true;\r\n          // config信息验证后会执行ready方法，所有接口调用都必须在config接口获得结果之后，config是一个客户端的异步操作，所以如果需要在页面加载时就调用相关接口，则须把相关接口放在ready函数中调用来确保正确执行。对于用户触发时才调用的接口，则可以直接调用，不需要放在ready函数中。\r\n          _wixinPay();\r\n        });\r\n        wx.error(res => {\r\n          this.signature = false;\r\n          reject({\r\n            code: 'fail',\r\n            message: res.errMsg || res.err_desc || 'jsapi配置失败'\r\n          });\r\n        });\r\n      } else {\r\n        _wixinPay();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 调起支付宝支付\r\n   * @param {Object} options 支付参数（tradeNO/orderStr），参考支付宝官方支付文档\r\n   * @example\r\n   * tradeNO 交易号\r\n   * orderStr 交易字符串\r\n   *\r\n   * @returns {Promise}\r\n   */\r\n  aliPay(options) {\r\n    return new Promise((resolve, reject) => {\r\n      if (\r\n        !options ||\r\n        Object.prototype.toString.call(options) !== '[object Object]'\r\n      ) {\r\n        reject({\r\n          message:\r\n            '唤起支付宝参数错误，参数[options]：' + JSON.stringify(options)\r\n        });\r\n        return;\r\n      }\r\n      ap.tradePay(options, result => {\r\n        result.code = result.resultCode;\r\n        switch (result.resultCode) {\r\n          case '9000': //支付成功\r\n            resolve(result);\r\n            break;\r\n          case '8000': //后台获取支付结果超时，暂时未拿到支付结果\r\n          case '6004': //支付过程中网络出错， 暂时未拿到支付结果\r\n            result.message = '支付处理中，请稍后在您的订单中查看';\r\n            reject(result);\r\n            break;\r\n          case '6001': //用户中途取消\r\n          case '99': //用户点击忘记密码快捷界面退出(only iOS since 9.5)\r\n            break;\r\n          default:\r\n            result.message = '支付异常,请关闭页面后重试';\r\n            reject(result);\r\n            break;\r\n        }\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\ntypeof exports === 'object' && typeof module !== 'undefined' ?\r\n  module.exports = new _$UniquePay() :\r\n  window.UniquePay = new _$UniquePay();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/UniquePay.sdk.js","/*\r\n * @Author: liangzc \r\n * @Date: 2018-02-09 \r\n * @Last Modified by: liangzc\r\n * @Last Modified time: 2018-02-13 15:35:15\r\n */\r\n/**\r\n * @param {Vue} Vue Vue对象\r\n * @param {Object} options {useSdk: Boolean} 是否使用对应平台的 jssdk\r\n */\r\nlet install = function(Vue, options = {}) {\r\n  if (install.installed) return;\r\n  Vue.$uniquePay = Vue.prototype.$uniquePay = require(options.useSdk ?\r\n    './UniquePay.sdk' :\r\n    './UniquePay'); //添加vm实例验证属性\r\n};\r\nif (typeof window !== 'undefined' && window.Vue) {\r\n  window.Vue.use(install);\r\n}\r\nmodule.exports = install;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/process/browser.js\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}